<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>RuboCop - set_trace_func</title>

<!-- Meta -->
<meta name="description" content="Just a random coder writing about technology, web development, and various other geeky topics." />
<meta name="author" content="Jamie Macey">
<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/index.xml" />

<!-- Favicons -->
<!-- 
<link rel="apple-touch-icon" href="/docs/5.2/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/docs/5.2/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/docs/5.2/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/docs/5.2/assets/img/favicons/manifest.json">
<link rel="mask-icon" href="/docs/5.2/assets/img/favicons/safari-pinned-tab.svg" color="#712cf9">
<link rel="icon" href="/docs/5.2/assets/img/favicons/favicon.ico">
-->

<!-- Style -->
<link rel="stylesheet" href="/_bridgetown/static/index.J6BIDSPS.css" />

<!-- Script -->
<!-- <script src="/_bridgetown/static/index.PJZZ2K4I.js" defer></script> -->


    <link type="application/atom+xml" rel="alternate" href="https://blog.tracefunc.com/index.xml" title="set_trace_func" />
  </head>
  <body class="notable ">
    <header>
  <nav>
    <ul>
      <li><h1><a href="/">set_trace_func</a></h1></li>
      <!-- The following float right, and are defined right-to-left -->
      <li class="float-right"><a href="/notes/">Notes</a></li>
      <li class="float-right"><a href="/projects/">Projects</a></li>
      <li class="float-right"><a href="/tags/">Tags</a></li>
      <li class="float-right"><a href="/archive/">Archive</a></li>
    </ul>
  </nav>
</header>


    <main>
      <aside>

  <div>
    <h4>Backlinks</h4>
    <ul>
      
        <li><a href="/notes/coding-style" class="wikilink">Coding Style</a></li>
      
    </ul>
  </div>


<div>
  <h4>About</h4>
  <picture class="float-end w-50 rounded-circle">
    <source srcset="/assets/memoji.webp" type="image/webp">
    <source srcset="/assets/memoji.jpeg" type="image/jpeg">
    <img src="/assets/memoji.png" alt="Avatar of Author" loading="lazy" class="w-100">
  </picture>

  <p>Jamie Macey is a senior software engineer with over 15 years experience
            in the Ruby and Rails ecosystems, largely on the back-end.</p>
  <p class="mb-0">Husband, father, gamer, and all-around geek. Ask about my latest
            3d print, or toy software project.</p>
</div>

<div>
  <h4>Elsewhere</h4>
  <ol class="list-unstyled">
    <li>
      <a href="https://github.com/jamie/"">GitHub</a>
    </li>
    <li style="display: none;">
      <a rel="me" href="https://ruby.social/@jamie_ca">Mastodon</a>
    </li>
    <li>
      <a href="/static/jamie-macey/">Resume</a>
    </li>
    <li>
      <a href="https://www.linkedin.com/in/jamiemacey/">Linkedin</a>
    </li>
    <li>
      <a href="mailto:jamie.blog@tracefunc.com">Contact</a>
    </li>
  </ol>
</div>
</aside>

      <section>
  <article>
  <h1 id="rubocop">RuboCop</h1>

<p><a href="https://rubocop.org/">RuboCop</a> is a <a href="/notes/ruby.html" class="wikilink">Ruby</a> code linter.</p>

<p>A quick-and-dirty starting config, bootstrapping a <a href="/notes/rails.html" class="wikilink">Rails</a> app:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c1"># Gemfile</span>
<span class="n">group</span> <span class="ss">:development</span> <span class="k">do</span>
  <span class="n">gem</span> <span class="s2">"rubocop"</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
  <span class="n">gem</span> <span class="s2">"rubocop-rails"</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
  <span class="n">gem</span> <span class="s2">"rubocop-shopify"</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
  <span class="n">gem</span> <span class="s2">"rubocop-rspec"</span><span class="p">,</span> <span class="ss">require: </span><span class="kp">false</span>
<span class="k">end</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="c1"># .rubocop.yml</span>
<span class="na">inherit_gem</span><span class="pi">:</span>
  <span class="na">rubocop-shopify</span><span class="pi">:</span> <span class="s">rubocop.yml</span>

<span class="na">require</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">rubocop-rails</span>
  <span class="pi">-</span> <span class="s">rubocop-rspec</span>

<span class="na">AllCops</span><span class="pi">:</span>
  <span class="na">TargetRubyVersion</span><span class="pi">:</span> <span class="m">2.7</span>
  <span class="na">NewCops</span><span class="pi">:</span> <span class="s">enable</span>
  <span class="na">Exclude</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s1">'</span><span class="s">tmp/**/*'</span>
    <span class="pi">-</span> <span class="s1">'</span><span class="s">vendor/**/*'</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Note that the <a href="https://ruby-style-guide.shopify.dev/"><code class="highlighter-rouge">rubocop-shopify</code></a> dependency is purely a style choice (and my default preference), sticking with Rubocop’s baseline, or or use <a href="https://github.com/airbnb/ruby/tree/master/rubocop-airbnb">AirBNB’s plugin</a>, or whatever. <a href="https://github.com/testdouble/standard">StandardRB</a> is another option that likes to run its own binary, but can run through standard rubocop tooling with <a href="https://github.com/testdouble/standard#usage-via-rubocop">this config</a>.</p>

<p>If you’re adding to an existing codebase, <code class="highlighter-rouge">rubocop --auto-gen-config</code> will scan your code and create a file of known violations to whitelist, which you can then incrementally remove and correct. This will require you update your .rubocop.yml to recognize it:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c1"># .rubocop.yml, after inherit_gem and require sections:</span>
<span class="na">inherit_from</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">.rubocop_todo.yml</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="class-structure">Class Structure</h3>

<p>There’s a Layout/ClassStructure cop that allows you to specify a preferred ordering for certain parts of a class, for consistency. An example (<a href="https://thedevpost.com/blog/rubocop-configuration-files-for-rails/">source</a>):</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="na">Layout/ClassStructure</span><span class="pi">:</span>
  <span class="na">ExpectedOrder</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">module_inclusion</span>
    <span class="pi">-</span> <span class="s">constants</span>
    <span class="pi">-</span> <span class="s">association</span>
    <span class="pi">-</span> <span class="s">public_attribute_macros</span>
    <span class="pi">-</span> <span class="s">public_delegate</span>
    <span class="pi">-</span> <span class="s">macros</span>
    <span class="pi">-</span> <span class="s">initializer</span>
    <span class="pi">-</span> <span class="s">public_class_methods</span>
    <span class="pi">-</span> <span class="s">public_methods</span>
    <span class="pi">-</span> <span class="s">protected_attribute_macros</span>
    <span class="pi">-</span> <span class="s">protected_methods</span>
    <span class="pi">-</span> <span class="s">private_attribute_macros</span>
    <span class="pi">-</span> <span class="s">private_delegate</span>
    <span class="pi">-</span> <span class="s">private_methods</span>
</pre></td></tr></tbody></table></code></pre></div></div>


</article>

</section>

    </main>

    <footer>
  <p>Styled with <a href="https://classless.de/">Classless.css</a>.</p>
</footer>


    <script data-goatcounter="https://tracefunc.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
  </body>

</html>
